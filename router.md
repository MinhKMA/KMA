#Cấu hình router ##Chế độ giao tiếp dòng lệnh CLI<img src="http://i.imgur.com/AxxEyNn.png">Router>  Chế độ User.<UL>Giới hạn các câu lệnh mà người dùng có thể  thực  thi  được.  Đối với  chế  độ cấu hình  này người  dùng  chỉ  có  khả năng  hiển  thị  các  thông số cấu  hình  trên router.  Không  thể cấu  hình  để thay  đổi các  thông số cấu hình và hoạt động của router.</ul>Router#  Chế  độ  Privileged  (cũng  được gọi  là  chế độ EXEC)<ul>Bạn  có  thể  nhìn  thấy  file cấu  hình  và thay  đổi  các  tham số cấu  hình  trên  file cấu hình đó.</ul>Router(config)#  Chế độ Global Configuration<ul>Hay viết tắtRouter#conf tRouter(config)#  Chuyển  người  dùng  vào  chế  độ  Global Configuration. Với  chế độ này bạn sẽ  có thể bắt đầu cấu hình những thay đổi cho router.</UL>Router(config-if)#  Chế độ Interface ConfigurationRouter(config-subif)#  Chế độ Subinterface ConfigurationRouter(config-line)#  Chế độ cấu hình Line.Router(config-router)#  Chế độ Router Configuration##Đặt tên cho routerĐầu tiên chúng ta cần phải đặt tên cho router: Trong chế độ cấu hình toàn cục, bạn dùng lệnh sau: ```Router(config)#hostname test ``````test (config)# ```Ngay sau khi bạn nhấn phím Enter để thực thi câu lệnh bạn sẽ thấy dấu nhắc đổi từ mặc định (Router) sang tên mà bạn vừa mới đặt (test).##Đặt password Thông thường ta luôn đặt mật mã cho đường vty và console. Ngoài ra mật mã còn được sử dụng để kiểm soát sự truy cập vào chế độ EXEC đặc quyền trên router.  Khi đó, chỉ những người nào được phép mới có thể thực hiện việc thay đổi tập tin cấu hình trên router. Sau đây là các lệnh mà bạn cần sử dụng để thực hiện việc đặt mật mã cho đường console: ``` Router(config)#line console 0 ``````Router(config-line)#password <password>``````Router(config-line)#login ``` Chúng ta cũng cần đặt mật mã cho một hoặc nhiều đương vty để kiểm soát các user truy nhập từ xa vào router và Telnet. Thông thường Cisco router có 5 đường vty với thứ tự từ 0 đến 4. Chúng ta thường sử dụng một mật mã cho tất cả các đường vty, nhưng đôi khi chúng ta nên đặt thêm mật mã riêng cho một đường để dự  phòng khi cả 4 đường kia đều đang được sủ dụng. Sau đây là các lệnh cần sử dụng để đặt mật mã cho đường vty: ```Router(config)#line vty 0 4 ``````Router(config-line)#password <password> ``````Router(config-line)#login ```Mật mã enable và enable secret  được sử ụng để hạn chế việc truy cập vào chế độ EXEC đặc quyền. Mật mã enabl dụng khi chúng ta cài đặt mật mã enable secret vì mật mã này được mã hoá còn mật mã enable thì không. Sau đây là các lệnh dùng để đặt mật mã enable secret:``` Router(config)#enable password <password> ``````Router(config)#enable secret <password>```Chúng ta có thể dùng lệnh  **show running-config** hoặc **show startup-config** để hiển thị mật khẩu. Vì vậy, cách mã hóa mật khẩu :```Router(config)#service password-encryption  ```##Kiểm tra cách lệnh bằng **show**- Show interface: hiển thị trạng thái của tất cả các cổng giao tiếp trên router. Để xem trạng thái của một cổng nào đó thì bạn thêm tên và số thứ tự của cổng đó sau lệnh show interface. Ví dụ như: ```Router#show interface serial 0/1```- Show controllers serial: hiển thị các thông tin chuyên biệt về phần cứng của các cổng serial.- Show lock: hiển thj đồng hồ được cài đặt trên router.- Show hosts: hiển thị danh sách tên và địa chỉ tương ứng.- Show use: hiểu thị các use kết nối vào router.- Show history: hiển thị các câu lệnh của người dùng đã sử dung.- Show flash: hiển thị bộ nhớ flash và tập tin IOS trong đó.- Show version: hiển thị thông tin về router và IOS chạy trên RAM- Show ARP: hiển thị ARP trên router - Show protocol- hiển thị trạng thái toàn cục và trạng thái của các cổng giao tiếp đã được cấu hình giao thức lớp 3.  - Show startup-configuration: hiển thị tập tin cấu hình đăng chạy trên RAM.   ##Cấu hình địa chỉ IP cho một Interface:```Router(config)# interface {số hiệu interface}``````Router(config-if)# ip address {ip-address} {subnet-mask}``````Router(config-if)# no shutdown``` Ví dụ:Router(config)# interface f0/0Router(config-if)# ip address 192.168.1.1 255.255.255.0Router(config-if)# no shutdown##Câu lệnh lưu lại cấu hình đang chạy lên NVRAM, dùng để load trong lần khởi động sau:```Router# copy running-config startup-config```Hoặc viết tắt:Router# copy run startHoặc “write memory”:Router# wr##Câu lệnh xóa cấu hình đã lưu trên NVRAM và khởi động lại:```Router# erase startup-config``````Router# reload```#Cấu hình tên router và gán địa chỉ IP <img src=" http://i.imgur.com/rdhWhRU.png">gõ **no** tiếp tục **enable** rồi **conf t**chúng ta bắt đầu đặt tên router bằng lệnh ```hostname tên router``` <img src="http://i.imgur.com/QxL6SOz.png">tiếp tục gán địa chỉ ip cho router và cho nó kết nối với một máy tính. Giả dụ địa chỉ IP cho router tôi gán là 192.168.1.1 còn máy tính sẽ là 192.168.1.15. kéo máy tính kết nối vào interfac0 fa0/0<img src="http://i.imgur.com/jfGV13W.png"> - gõ ```int fa0/0``` dùng lệnh ```ip add 192.168.1.1 255.255.255.0``` để gán địa chỉ IP - gõ ```no shut`` để bật interfac0/0 lên Chúng ta thử gán địa chỉ IP cho máy tính rồi ping thửi đến router<img src="http://i.imgur.com/Tom93vD.png"><img src="http://i.imgur.com/jdEBAwj.png">Cuối cùng, ta lưu cấu hình router lại ```copy running-config start```<img src="http://i.imgur.com/uRRfmmx.png">